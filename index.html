<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surrender</title>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', 'Nunito Sans', 'Varela Round', 'Comfortaa', sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f8f9fa;
            font-weight: 600;
            position: relative;
        }
        .container {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            position: relative;
        }
        .ovarmees-corner {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #ff6b35;
            color: white;
            padding: 12px 20px;
            border-radius: 25px;
            font-family: 'Fredoka One', sans-serif;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
            z-index: 1000;
        }
        .ovarmees-corner.hidden {
            display: none;
        }
        h1 {
            text-align: center;
            color: #ff6b35;
            margin-bottom: 10px;
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', sans-serif;
            font-weight: bold;
            font-size: 36px;
        }
        .subtitle {
            text-align: center;
            color: #74b9ff;
            margin-bottom: 30px;
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', sans-serif;
            font-size: 18px;
            font-weight: 600;
            font-style: italic;
        }
        h3 {
            font-family: 'Fredoka One', sans-serif;
            font-weight: 400;
            color: #2c3e50;
            font-size: 22px;
        }
        .game-status {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: #ffeaa7;
            border-radius: 20px;
            font-family: 'Fredoka One', sans-serif;
            font-weight: 400;
            font-size: 18px;
            color: #2d3436;
        }
        .nested-wheel-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
            position: relative;
        }
        .wheel-stack {
            position: relative;
            width: 350px;
            height: 350px;
        }
        .fortune-wheel {
            position: absolute;
            border-radius: 50%;
            border: 3px solid #2c3e50;
            cursor: grab;
            transition: transform 0.3s;
            user-select: none;
        }
        .fortune-wheel:active {
            cursor: grabbing;
        }
        .fortune-wheel.spinning {
            cursor: default;
        }
        .outer-wheel {
            width: 350px;
            height: 350px;
            top: 0;
            left: 0;
            background: conic-gradient(from 0deg, 
                #e74c3c 0deg 32.7deg,
                #3498db 32.7deg 65.4deg,
                #2ecc71 65.4deg 98.1deg,
                #f39c12 98.1deg 130.8deg,
                #9b59b6 130.8deg 163.5deg,
                #1abc9c 163.5deg 196.2deg,
                #34495e 196.2deg 228.9deg,
                #e67e22 228.9deg 261.6deg,
                #95a5a6 261.6deg 294.3deg,
                #c0392b 294.3deg 327deg,
                #2980b9 327deg 360deg);
        }
        .middle-wheel {
            width: 250px;
            height: 250px;
            top: 50px;
            left: 50px;
            background: conic-gradient(from 0deg,
                #27ae60 0deg 18deg,
                #e74c3c 18deg 36deg,
                #f39c12 36deg 54deg,
                #8e44ad 54deg 72deg,
                #3498db 72deg 90deg,
                #e67e22 90deg 108deg,
                #1abc9c 108deg 126deg,
                #34495e 126deg 144deg,
                #c0392b 144deg 162deg,
                #2980b9 162deg 180deg,
                #95a5a6 180deg 198deg,
                #d35400 198deg 216deg,
                #7f8c8d 216deg 234deg,
                #16a085 234deg 252deg,
                #2c3e50 252deg 270deg,
                #9b59b6 270deg 288deg,
                #e74c3c 288deg 306deg,
                #f1c40f 306deg 324deg,
                #2ecc71 324deg 342deg,
                #3498db 342deg 360deg);
        }
        .inner-wheel {
            width: 150px;
            height: 150px;
            top: 100px;
            left: 100px;
            background: conic-gradient(from 0deg,
                #e74c3c 0deg 14.4deg,
                #3498db 14.4deg 28.8deg,
                #2ecc71 28.8deg 43.2deg,
                #f39c12 43.2deg 57.6deg,
                #9b59b6 57.6deg 72deg,
                #1abc9c 72deg 86.4deg,
                #e67e22 86.4deg 100.8deg,
                #34495e 100.8deg 115.2deg,
                #c0392b 115.2deg 129.6deg,
                #2980b9 129.6deg 144deg,
                #95a5a6 144deg 158.4deg,
                #d35400 158.4deg 172.8deg,
                #7f8c8d 172.8deg 187.2deg,
                #16a085 187.2deg 201.6deg,
                #2c3e50 201.6deg 216deg,
                #9b59b6 216deg 230.4deg,
                #27ae60 230.4deg 244.8deg,
                #f1c40f 244.8deg 259.2deg,
                #8e44ad 259.2deg 273.6deg,
                #e74c3c 273.6deg 288deg,
                #3498db 288deg 302.4deg,
                #2ecc71 302.4deg 316.8deg,
                #f39c12 316.8deg 331.2deg,
                #1abc9c 331.2deg 345.6deg,
                #e67e22 345.6deg 360deg);
        }
        .wheel-values {
            position: absolute;
            width: 100%;
            height: 100%;
            color: white;
            font-weight: bold;
            font-size: 12px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.9);
            pointer-events: none;
        }
        .wheel-value {
            position: absolute;
            transform-origin: 50% 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0,0,0,0.3);
            border-radius: 3px;
            border: 1px solid rgba(255,255,255,0.5);
        }
        .wheel-pointer {
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-top: 20px solid #fd79a8;
            z-index: 100;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }
        .spinning {
            animation: wheelSpin 3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        @keyframes wheelSpin {
            0% { transform: rotate(0deg); }
            80% { transform: rotate(1080deg); }
            100% { transform: rotate(1080deg); }
        }
        .wheel-settling {
            animation: wheelSettle 0.5s ease-out;
        }
        @keyframes wheelSettle {
            0% { transform: rotate(1080deg) scale(1.02); }
            50% { transform: rotate(1080deg) scale(0.98); }
            100% { transform: rotate(1080deg) scale(1); }
        }
        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 40px;
            height: 40px;
            background: #2c3e50;
            border-radius: 50%;
            z-index: 50;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 12px;
        }
        .challenge-section {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            border-left: 6px solid #d63031;
            font-family: 'Comic Sans MS', 'Trebuchet MS', cursive, sans-serif;
            color: white;
            font-weight: 500;
        }
        .situation-highlight {
            background: #00cec9;
            padding: 30px;
            border-radius: 25px;
            margin: 30px 0;
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', sans-serif;
            color: white;
            font-weight: 400;
            font-size: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.15);
        }
        .task-highlight {
            background: #fd79a8;
            padding: 25px;
            border-radius: 20px;
            margin: 25px 0;
            font-family: 'Arial Rounded MT Bold', 'Helvetica Rounded', sans-serif;
            color: white;
            font-weight: 400;
            font-size: 18px;
        }
        .clock-display {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Comic Sans MS', 'Trebuchet MS', cursive, sans-serif;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }
        .time-info {
            font-size: 16px;
            margin-bottom: 10px;
            font-family: 'Comic Sans MS', 'Trebuchet MS', cursive, sans-serif;
            font-weight: bold;
        }
        .time-info div {
            margin: 8px 0;
        }
        .countdown {
            font-size: 42px;
            font-weight: bold;
            color: #ffeaa7;
            margin-top: 15px;
            font-family: 'Comic Sans MS', 'Trebuchet MS', cursive, sans-serif;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .strategies {
            margin: 20px 0;
        }
        .strategy-btn {
            display: block;
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background 0.3s;
        }
        .strategy-btn:hover {
            background: #2980b9;
        }
        .strategy-btn:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        .results {
            background: #d4edda;
            padding: 20px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #28a745;
        }
        .btn-primary {
            background: #27ae60;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 18px;
            display: block;
            margin: 20px auto;
        }
        .btn-primary:hover {
            background: #219a52;
        }
        .btn-primary:disabled {
            background: #bdc3c7;
            cursor: not-allowed;
        }
        .fruit-score {
            font-size: 20px;
            font-weight: bold;
            color: #2c3e50;
        }
        .surrender-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-size: 18px;
            font-style: italic;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .arrow-indicator {
            text-align: center;
            margin: 20px 0;
            animation: bounce 2s infinite;
        }
        .arrow-indicator::before {
            content: "â†“";
            font-size: 30px;
            color: #fd79a8;
            font-weight: bold;
        }
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        .hidden {
            display: none;
        }
        @media (max-width: 600px) {
            .wheel-stack {
                width: 280px;
                height: 280px;
            }
            .outer-wheel {
                width: 280px;
                height: 280px;
            }
            .middle-wheel {
                width: 200px;
                height: 200px;
                top: 40px;
                left: 40px;
            }
            .inner-wheel {
                width: 120px;
                height: 120px;
                top: 80px;
                left: 80px;
            }
            .wheel-value {
                font-size: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="ovarmees-corner hidden" id="ovarmeesCorner">
            ðŸŒŸ <span id="cornerOvarmees">0</span> Ovarmees
        </div>

        <div id="startScreen">
            <h1>ðŸ¤° Surrender</h1>
            <p class="subtitle">the pregnancy game about ebbing and flowing</p>
            <div class="game-status" id="mainGameStatus">
                <div>Total Ovarmees: <span id="totalOvarmees">0</span></div>
                <div>Plays Today: <span id="playsToday">0</span>/3</div>
            </div>
            <p style="text-align: center; font-size: 18px; margin-bottom: 30px;">
                You have one hour to leave the house. Will you? It's ok
            </p>
            <button class="btn-primary" onclick="startTurn()" id="startBtn">Start Turn</button>
        </div>

        <div id="wheelScreen" class="hidden">
            <h1>ðŸ¤° Surrender</h1>
            <p style="text-align: center; margin-bottom: 20px;">Spin the wheel to discover your pregnancy conditions in the next hour.</p>
            <div class="nested-wheel-container">
                <div class="wheel-stack">
                    <div class="wheel-pointer"></div>
                    
                    <div class="fortune-wheel outer-wheel" id="outerWheel">
                        <div class="wheel-values" id="outerValues"></div>
                    </div>
                    
                    <div class="fortune-wheel middle-wheel" id="middleWheel">
                        <div class="wheel-values" id="middleValues"></div>
                    </div>
                    
                    <div class="fortune-wheel inner-wheel" id="innerWheel">
                        <div class="wheel-values" id="innerValues"></div>
                    </div>
                    
                    <div class="wheel-center">SPIN</div>
                </div>
            </div>
            <p style="text-align: center;">
                <button class="btn-primary" onclick="spinFortuneWheels()" id="spinBtn">Spin the wheels to see how you are right now</button>
                <br><small style="color: #666; margin-top: 10px; display: block;">Or click and drag on any wheel to spin!</small>
            </p>
            <div id="wheelResults" class="hidden">
                <div class="arrow-indicator"></div>
                <div class="situation-highlight">
                    <h3 style="margin-top: 0; color: white; font-size: 24px;">Your Situation Right Now</h3>
                    <p id="situationText" style="font-size: 20px; margin-bottom: 0;"></p>
                    <div class="clock-display" id="currentTimeDisplay"></div>
                </div>
                <button class="btn-primary" onclick="showTask()">Continue to Task</button>
            </div>
        </div>

        <div id="taskScreen" class="hidden">
            <h1>ðŸ¤° Surrender</h1>
            <div class="task-highlight">
                <h3 style="margin-top: 0; color: white; font-size: 24px;">Your Task</h3>
                <p id="taskText" style="font-size: 18px;"></p>
                <p class="fruit-score" style="color: #ffeaa7; margin-bottom: 0;">Potential reward: <span id="potentialReward"></span></p>
            </div>
            <button class="btn-primary" onclick="startChallenge()">GO!</button>
        </div>

        <div id="challengeScreen" class="hidden">
            <h1>ðŸ¤° Surrender</h1>
            <div class="clock-display" id="gameTimeDisplay">
                <div class="time-info">
                    <div>Current Time: <span id="currentTime"></span></div>
                    <div>Must Leave By: <span id="leaveTime"></span></div>
                </div>
                <div class="countdown" id="gameTimer">60</div>
            </div>
            
            <div class="challenge-section">
                <h3>Your Task</h3>
                <p id="challengeTaskText"></p>
                <p class="fruit-score">Potential reward: <span id="challengePotentialReward"></span></p>
            </div>
            
            <div class="strategies">
                <h3>Choose your strategy:</h3>
                <div id="strategyButtons"></div>
            </div>
        </div>

        <div id="resultsScreen" class="hidden">
            <h1>ðŸ¤° Surrender</h1>
            <div class="surrender-banner" id="surrenderBanner"></div>
            <div class="results">
                <div id="storyText"></div>
                <p id="ovarmeeResult"></p>
            </div>
            <button class="btn-primary" onclick="resetGame()">Play Again</button>
        </div>
    </div>

    <script>
        // Game data
        const pregnancyWeeks = [5, 8, 12, 16, 20, 24, 28, 32, 36, 40, 42];
        const bodyConditions = [
            "nausea no vomiting", "nausea with vomiting", "excess saliva", "constipation", 
            "indigestion", "flatulence", "bloating", "food aversion", "cravings", 
            "increased appetite", "extreme breast tenderness", "faintness", "dizziness", 
            "can't find pants that fit", "have to pee", "manic energy", "fatigue", 
            "headaches", "heartburn", "hunger"
        ];
        const feelings = [
            "pride", "self-conscious", "fear of stretch marks", "irritability", "irrationality", 
            "weepiness", "misgivings", "elation", "calm", "sense of unreality", "wonder", 
            "anxiety", "lust", "overwhelmed", "excited", "nervous", "content", "restless", 
            "grateful", "worried", "hopeful", "scared", "peaceful", "frustrated", "joyful"
        ];

        const tasks = [
            // Making food tasks
            { 
                task: "make breakfast before you leave home", 
                difficulty: "apple",
                description: "make breakfast",
                category: "making_food"
            },
            { 
                task: "make lunch before you leave home", 
                difficulty: "orange",
                description: "make lunch",
                category: "making_food"
            },
            { 
                task: "make dinner before you leave home", 
                difficulty: "banana",
                description: "make dinner",
                category: "making_food"
            },
            { 
                task: "make a snack before you leave home", 
                difficulty: "cherry",
                description: "make a snack",
                category: "making_food"
            },
            { 
                task: "make a meal for a potluck before you leave home", 
                difficulty: "mango",
                description: "make a meal for a potluck",
                category: "making_food"
            },
            // Life admin tasks
            {
                task: "call your landlord about water damage in the bedroom before you leave home",
                difficulty: "grapefruit",
                description: "call your landlord about water damage in the bedroom",
                category: "life_admin"
            },
            {
                task: "find a plumber to unclog a slow drain before you leave home",
                difficulty: "orange",
                description: "find a plumber to unclog a slow drain",
                category: "life_admin"
            },
            {
                task: "transfer a payment for the bed you finally ordered before you leave home",
                difficulty: "apple",
                description: "transfer a payment for the bed you finally ordered",
                category: "life_admin"
            },
            {
                task: "call your car mechanic to know how bad the damage is before you leave home",
                difficulty: "pineapple",
                description: "call your car mechanic to know how bad the damage is",
                category: "life_admin"
            },
            {
                task: "call the bank about a questionable charge on your credit card before you leave home",
                difficulty: "coconut",
                description: "call the bank about a questionable charge on your credit card",
                category: "life_admin"
            },
            {
                task: "book flights to visit your mom for her birthday before you leave home",
                difficulty: "watermelon",
                description: "book flights to visit your mom for her birthday",
                category: "life_admin"
            },
            // Getting ready tasks
            {
                task: "get dressed for work before you leave home",
                difficulty: "banana",
                description: "get dressed for work",
                category: "getting_ready"
            },
            {
                task: "shower before you leave home",
                difficulty: "orange",
                description: "shower",
                category: "getting_ready"
            },
            {
                task: "find a pair of clean pants that fit before you leave home",
                difficulty: "grapefruit",
                description: "find a pair of clean pants that fit",
                category: "getting_ready"
            },
            {
                task: "do your hair and makeup before you leave home",
                difficulty: "mango",
                description: "do your hair and makeup",
                category: "getting_ready"
            },
            {
                task: "floss and brush your teeth before you leave home",
                difficulty: "cherry",
                description: "floss and brush your teeth",
                category: "getting_ready"
            },
            // Housework tasks
            {
                task: "pick up the living room before you leave home",
                difficulty: "banana",
                description: "pick up the living room",
                category: "housework"
            },
            {
                task: "fold and put away the laundry before you leave home",
                difficulty: "orange",
                description: "fold and put away the laundry",
                category: "housework"
            },
            {
                task: "load and start the dishwasher before you leave home",
                difficulty: "apple",
                description: "load and start the dishwasher",
                category: "housework"
            }
        ];

        const fruitScores = {
            cherry: 50, apple: 100, orange: 150, banana: 200, mango: 250, 
            grapefruit: 300, pineapple: 350, coconut: 400, watermelon: 500
        };

        const strategiesByCategory = {
            making_food: [
                "Ask Partneer for help",
                "Open the fridge and graze on whatever can be eaten without cooking: baby carrots, hummus, Wiener wÃ¼rstchen, an apple, string cheese",
                "Make a beautiful, colorful MÃ¼sli, loaded with fruits and seeds to feed mommy & baby",
                "You can grab a sandwich from the corner kiosk, why bother to cook?",
                "Open the fridge, scan countless options, feel overwhelmed by choices and turn around to lay down on the couch in the fetal position"
            ],
            life_admin: [
                "Ask Partneer for help",
                "Close your eyes, take a deep breath and just start",
                "Nothing can stress me. You make tea, straighten the table and feel the power of a tidy space. Let's go.",
                "You open your to-do list on your phone and see your task. The phone was your first mistake. You open Instagram. You're fucked.",
                "You check in with your body, heart and soul. It's no good. Today is not a day for life admin. You curl back under the covers."
            ],
            getting_ready: [
                "Ask Partneer for help",
                "You visualize how nice it will feel to look clean, kempt and cute. It motivates you out of bed.",
                "You get up and immediately wash your face. The cold water wakes you up enough to take on any task.",
                "You have a moment of despair, you feel foreign in your body. You don't think anything will make you feel confident in public right nowâ€¦",
                "Noâ€¦no. Today is for staying in bed."
            ],
            housework: [
                "Ask Partneer for help",
                "You play pump up music. You look at yourself in the mirror and say 'today's the day'. It's not like THE day. But it's enough to get you over the hump and out the door.",
                "You tap into your most disciplined self. You grit your teeth. Nothing can stop you.",
                "Are there guests coming over today? No. This can wait until tomorrow.",
                "Mmm, yeah no. Not today. It can wait."
            ],
            general: [
                "Ask Partneer for support",
                "Complete the task quickly and efficiently", 
                "Take time to do this properly and mindfully",
                "Listen to your body and modify your approach",
                "Surrender to the situation and let it go"
            ]
        };

        const foodOutcomes = {
            leftHouse: [
                "That meal gave you new life, wow, so energized to go out!",
                "The nice neighbor brings over some yummy cake right as you're wondering what to eat. Woop!",
                "You still feel like shit, but power your way out of the house.",
                "Partneer wants to vent about a colleague. Shut upppp. I will leave this house no matter how I feel.",
                "Partneer steps in and finishes cooking, that was nice. I can leave now.",
                "You're pretty sure fresh air is the only meal you need, let's just get out of here",
                "You don't feel well but you are committed to getting out of this house, finally. Your face hasn't seen the sun in some timeâ€¦"
            ],
            stayedHome: [
                "You spill on your pants, and it's coffee. You struggle to treat the stain, and find another pair of pants that fit and go with the rest of your outfit before the clock is up.",
                "Bit off more than you can chew: Now I need a nap.",
                "Eyes bigger than your stomach: Now I need a nap.", 
                "Phew. That was good. I'll lay down and I'm sure I'll feel better when I digest thisâ€¦",
                "Partneer gives such a sweet hug. I don't need to push it today.",
                "Partneer eats it all. WTF time to make seconds I guess",
                "What is time anyway? Wouldn't everything be better if we just followed the natural rhythms of the body?",
                "Smaller meals more frequently is some bullshit I am so hungry still and I am out of time to make this appointment",
                "If I make an entire second meal, isn't that for the baby technically? I'm not going out"
            ]
        };

      const lifeAdminOutcomes = {
    leftHouse: [
        "The only way out is through, my friend. You've somehow completed your task and left on time. Let's see what tomorrow will bringâ€¦",
        "Look at you go! You dug deep, found your internal energy source and made it work.",
        "Nothing can stop you today. No task is too great for your strength.",
        "Phew! Today you found your way through somehow. Good job."
    ],
    stayedHome: [
        "The clock can run on its own. You're just not about that life right now.",
        "It was never going to be your day, and that's okay.",
        "You know what you're doing. You are in full control. You checked in with your body, you looked the task straight in the eyes and decided, not today. Strong choice.",
        "At the very last minute, you checked back in with yourself. Why force it? Take your time and leave the house when the moment is right.",
        "Just as you are about to finish the job, your phone dies. There are only 3 minutes on the clock, but you've got to charge up. It's okay to be a bit late todayâ€¦"
    ]
};

const gettingReadyOutcomes = {
    leftHouse: [
        "You made it. And check you out - fresh, clean, looking grand and ready for the outside world.",
        "You check out your look in the mirror on the way out. Looking fine! Let's get out there.",
        "The last hour took all your energy, but you're out of the house. You've done enough.",
        "You are feeling fresh and can't wait to feel the sun on your face. The bonus? These pants make your big 'ol pregnant butt look extra tight.",
        "CHA-CHING. You did what you needed, the rest really doesn't matter. Good on you today.",
        "Partneer is out here being the best today - you got ready in peace and found a snack and fresh pressed juice in the kitchen to power you out the door <3"
    ],
            stayedHome: [
                "You know what? The house has all you need. You have food in the fridge. You can push the rest of it off until tomorrow.",
                "Rest is important right now. Don't worry about it, girl!",
                "Keep in mind that your body is building a whole new person. You've done enough work for today!",
                "There's no need to prove anything to anybody. Lay your pregnant self back down and remember that being pregnant might just be enough for today.",
                "Don't worry about it! Your body is out here creating miracles. Maybe you have more energy for the world tomorrow. If not, that's ok too.",
                "Don't sweat the small stuff. Not every day has to be your day. Give yourself some love."
            ]
        };

        const houseworkOutcomes = {
            leftHouse: [
                "A tidy space gives you a clear mind. You're ready for anything!",
                "It's not perfect, but it's better. You can live with 'good enough.'",
                "You put on music and made it fun. Dancing while cleaning counts as exercise!",
                "You found three things you thought you'd lost forever. Bonus!",
                "You did the bare minimum but hey, progress is progress."
            ],
            stayedHome: [
                "You started organizing one drawer and somehow ended up reorganizing the entire room. Oops.",
                "You found old photos and spent an hour reminiscing instead of cleaning.",
                "The mess seemed to multiply while you were cleaning. How is that possible?",
                "You got overwhelmed by the scope of the task. Tomorrow's problem now.",
                "You cleaned for 10 minutes and decided that was enough productivity for today."
            ]
        };

        const surrenderMessages = [
            "Today you practiced deep surrender ðŸŒ¸",
            "You honored your body's wisdom today ðŸ’«",
            "Sometimes the bravest thing is to simply be ðŸŒ™",
            "Your body is teaching you about trust ðŸŒ¿",
            "You chose presence over perfection today âœ¨",
            "Every moment of surrender is an act of love ðŸ’•",
            "You listened to what your soul needed today ðŸ¦‹",
            "Trust and surrender are your superpowers ðŸŒŸ",
            "You embraced the unknown with grace today ðŸŒŠ",
            "Your body knows exactly what it's doing ðŸŒº"
        ];

        let gameState = {
            currentWeek: 0,
            currentBody: "",
            currentFeeling: "",
            currentTask: null,
            timer: 60,
            timerInterval: null,
            timerStarted: false,
            totalOvarmees: 0,
            playsToday: 0,
            lastPlayDate: '',
            currentTime: new Date(),
            leaveTime: new Date()
        };

        function checkDailyReset() {
            const today = new Date().toDateString();
            if (gameState.lastPlayDate !== today) {
                gameState.playsToday = 0;
                gameState.lastPlayDate = today;
            }
        }

        function updateDisplay() {
            document.getElementById('totalOvarmees').textContent = gameState.totalOvarmees;
            document.getElementById('playsToday').textContent = gameState.playsToday;
            document.getElementById('cornerOvarmees').textContent = gameState.totalOvarmees;
            
            if (gameState.totalOvarmees > 0) {
                document.getElementById('ovarmeesCorner').classList.remove('hidden');
            }
            
            if (gameState.playsToday >= 3) {
                document.getElementById('startBtn').disabled = true;
                document.getElementById('startBtn').textContent = 'Come back tomorrow for more!';
            }
        }

        function startTurn() {
            if (gameState.playsToday >= 3) return;
            
            gameState.currentTime = new Date();
            gameState.leaveTime = new Date(gameState.currentTime.getTime() + 60 * 60 * 1000);
            
            document.getElementById('mainGameStatus').classList.add('hidden');
            document.getElementById('ovarmeesCorner').classList.remove('hidden');
            document.getElementById('startScreen').classList.add('hidden');
            document.getElementById('wheelScreen').classList.remove('hidden');
        }

        function getFruitEmoji(fruit) {
            const fruitEmojis = {
                cherry: 'ðŸ’', apple: 'ðŸŽ', orange: 'ðŸŠ', banana: 'ðŸŒ', mango: 'ðŸ¥­',
                grapefruit: 'ðŸŠ', pineapple: 'ðŸ', coconut: 'ðŸ¥¥', watermelon: 'ðŸ‰'
            };
            return fruitEmojis[fruit] || 'ðŸŽ';
        }

        function getOrdinalSuffix(num) {
            const j = num % 10;
            const k = num % 100;
            if (j == 1 && k != 11) return "st";
            if (j == 2 && k != 12) return "nd";
            if (j == 3 && k != 13) return "rd";
            return "th";
        }

        function getPregnancyDescription() {
            const weekDesc = gameState.currentWeek >= 37 ? "Almost there!" : 
                           gameState.currentWeek >= 28 ? "Getting close!" :
                           gameState.currentWeek >= 20 ? "Halfway through!" :
                           gameState.currentWeek >= 12 ? "That dreamy second trimester is close" : "Early days!";
            
            const templates = [
                `You are in your ${gameState.currentWeek}${getOrdinalSuffix(gameState.currentWeek)} week of pregnancy. ${weekDesc} Right now you are experiencing ${gameState.currentBody}, and you're feeling ${gameState.currentFeeling} today.`,
                `You are in week ${gameState.currentWeek} - ${weekDesc.toLowerCase()}. You are dealing with ${gameState.currentBody}, and you're a little bit ${gameState.currentFeeling} today.`,
                `Week ${gameState.currentWeek} of pregnancy. ${weekDesc} Your body is experiencing ${gameState.currentBody}, while emotionally you're ${gameState.currentFeeling}.`,
                `You're ${gameState.currentWeek} weeks pregnant. ${weekDesc} Today you're dealing with ${gameState.currentBody} and feeling quite ${gameState.currentFeeling}.`,
                `Pregnancy week ${gameState.currentWeek}! ${weekDesc} Right now: ${gameState.currentBody}, and you're ${gameState.currentFeeling}.`,
                `You are in your ${gameState.currentWeek}${getOrdinalSuffix(gameState.currentWeek)} week. ${weekDesc} You're experiencing ${gameState.currentBody} today, and emotionally you're feeling ${gameState.currentFeeling}.`
            ];
            
            return templates[Math.floor(Math.random() * templates.length)];
        }

        function createWheelValues() {
            const outerContainer = document.getElementById('outerValues');
            const outerRadius = 130;
            pregnancyWeeks.forEach((week, index) => {
                const div = document.createElement('div');
                div.className = 'wheel-value';
                div.textContent = week;
                
                const angle = (360 / pregnancyWeeks.length) * index;
                const radian = (angle * Math.PI) / 180;
                const x = 175 + outerRadius * Math.cos(radian - Math.PI/2);
                const y = 175 + outerRadius * Math.sin(radian - Math.PI/2);
                
                div.style.left = `${x - 12}px`;
                div.style.top = `${y - 12}px`;
                div.style.fontSize = '12px';
                div.style.width = '24px';
                div.style.height = '24px';
                outerContainer.appendChild(div);
            });

            const middleContainer = document.getElementById('middleValues');
            const middleRadius = 75;
            bodyConditions.forEach((condition, index) => {
                const div = document.createElement('div');
                div.className = 'wheel-value';
                div.textContent = condition.split(' ')[0];
                
                const angle = (360 / bodyConditions.length) * index;
                const radian = (angle * Math.PI) / 180;
                const x = 125 + middleRadius * Math.cos(radian - Math.PI/2);
                const y = 125 + middleRadius * Math.sin(radian - Math.PI/2);
                
                div.style.left = `${x - 10}px`;
                div.style.top = `${y - 10}px`;
                div.style.fontSize = '9px';
                div.style.width = '20px';
                div.style.height = '20px';
                middleContainer.appendChild(div);
            });

            const innerContainer = document.getElementById('innerValues');
            const innerRadius = 35;
            feelings.forEach((feeling, index) => {
                const div = document.createElement('div');
                div.className = 'wheel-value';
                div.textContent = feeling.length > 5 ? feeling.substring(0, 4) : feeling;
                
                const angle = (360 / feelings.length) * index;
                const radian = (angle * Math.PI) / 180;
                const x = 75 + innerRadius * Math.cos(radian - Math.PI/2);
                const y = 75 + innerRadius * Math.sin(radian - Math.PI/2);
                
                div.style.left = `${x - 8}px`;
                div.style.top = `${y - 8}px`;
                div.style.fontSize = '7px';
                div.style.width = '16px';
                div.style.height = '16px';
                innerContainer.appendChild(div);
            });
        }

        function setupWheelDragging() {
            const wheels = ['outerWheel', 'middleWheel', 'innerWheel'];
            let dragState = { isDragging: false, startAngle: 0, currentRotation: 0, wheel: null };
            
            wheels.forEach(wheelId => {
                const wheel = document.getElementById(wheelId);
                
                wheel.addEventListener('mousedown', (e) => startDrag(e, wheel));
                document.addEventListener('mousemove', (e) => dragWheel(e));
                document.addEventListener('mouseup', () => endDrag());
                
                wheel.addEventListener('touchstart', (e) => startDrag(e.touches[0], wheel));
                document.addEventListener('touchmove', (e) => dragWheel(e.touches[0]));
                document.addEventListener('touchend', () => endDrag());
            });

            function startDrag(e, wheel) {
                if (document.getElementById('spinBtn').disabled) return;
                
                dragState.isDragging = true;
                dragState.wheel = wheel;
                
                const rect = wheel.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                dragState.startAngle = Math.atan2(e.clientY - centerY, e.clientX - centerX);
                e.preventDefault();
            }

            function dragWheel(e) {
                if (!dragState.isDragging || !dragState.wheel) return;
                
                const rect = dragState.wheel.getBoundingClientRect();
                const centerX = rect.left + rect.width / 2;
                const centerY = rect.top + rect.height / 2;
                
                const currentAngle = Math.atan2(e.clientY - centerY, e.clientX - centerX);
                const deltaAngle = currentAngle - dragState.startAngle;
                
                dragState.currentRotation += deltaAngle * (180 / Math.PI);
                dragState.wheel.style.transform = `rotate(${dragState.currentRotation}deg)`;
                dragState.startAngle = currentAngle;
                
                e.preventDefault();
            }

            function endDrag() {
                if (!dragState.isDragging) return;
                
                const rotationSpeed = Math.abs(dragState.currentRotation % 360);
                if (rotationSpeed > 30) {
                    spinFortuneWheels();
                }
                
                dragState.isDragging = false;
                dragState.wheel = null;
            }
        }

        function spinFortuneWheels() {
            // Add random rotation to each wheel for visual variety
            const outerRotation = Math.random() * 360;
            const middleRotation = Math.random() * 360;
            const innerRotation = Math.random() * 360;
            
            document.getElementById('outerWheel').style.transform = `rotate(${outerRotation}deg)`;
            document.getElementById('middleWheel').style.transform = `rotate(${middleRotation}deg)`;
            document.getElementById('innerWheel').style.transform = `rotate(${innerRotation}deg)`;
            
            document.getElementById('outerWheel').classList.add('spinning');
            document.getElementById('middleWheel').classList.add('spinning');
            document.getElementById('innerWheel').classList.add('spinning');
            document.getElementById('spinBtn').disabled = true;

            setTimeout(() => {
                gameState.currentWeek = pregnancyWeeks[Math.floor(Math.random() * pregnancyWeeks.length)];
                gameState.currentBody = bodyConditions[Math.floor(Math.random() * bodyConditions.length)];
                gameState.currentFeeling = feelings[Math.floor(Math.random() * feelings.length)];

                document.getElementById('outerWheel').classList.remove('spinning');
                document.getElementById('middleWheel').classList.remove('spinning');
                document.getElementById('innerWheel').classList.remove('spinning');
                
                document.getElementById('outerWheel').classList.add('wheel-settling');
                document.getElementById('middleWheel').classList.add('wheel-settling');
                document.getElementById('innerWheel').classList.add('wheel-settling');

                const situationText = getPregnancyDescription();
                document.getElementById('situationText').textContent = situationText;
                
                document.getElementById('currentTimeDisplay').innerHTML = 
                    `<div class="time-info">
                        <div>Current Time: ${gameState.currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                        <div>You need to leave by: ${gameState.leaveTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}</div>
                    </div>`;
                
                document.getElementById('wheelResults').classList.remove('hidden');
                
                setTimeout(() => {
                    document.getElementById('outerWheel').classList.remove('wheel-settling');
                    document.getElementById('middleWheel').classList.remove('wheel-settling');
                    document.getElementById('innerWheel').classList.remove('wheel-settling');
                }, 500);
                
            }, 3000);
        }

        function showTask() {
            document.getElementById('wheelScreen').classList.add('hidden');
            document.getElementById('taskScreen').classList.remove('hidden');

            gameState.currentTask = tasks[Math.floor(Math.random() * tasks.length)];
            
            const currentTimeStr = gameState.currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const leaveTimeStr = gameState.leaveTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            document.getElementById('taskText').innerHTML = 
                `It's ${currentTimeStr} and you have to <strong>${gameState.currentTask.description}</strong>. Keep in mind that you have to leave the house by ${leaveTimeStr}.`;
            
            document.getElementById('potentialReward').textContent = 
                `${fruitScores[gameState.currentTask.difficulty]} ovarmees (difficulty level: ${gameState.currentTask.difficulty} ${getFruitEmoji(gameState.currentTask.difficulty)})`;
        }

        function startChallenge() {
            document.getElementById('taskScreen').classList.add('hidden');
            document.getElementById('challengeScreen').classList.remove('hidden');

            const currentTimeStr = gameState.currentTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            const leaveTimeStr = gameState.leaveTime.toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
            
            document.getElementById('currentTime').textContent = currentTimeStr;
            document.getElementById('leaveTime').textContent = leaveTimeStr;

            document.getElementById('challengeTaskText').innerHTML = document.getElementById('taskText').innerHTML;
            document.getElementById('challengePotentialReward').textContent = document.getElementById('potentialReward').textContent;

            const strategyContainer = document.getElementById('strategyButtons');
            strategyContainer.innerHTML = '';
            
            const taskStrategies = strategiesByCategory[gameState.currentTask.category] || strategiesByCategory.general;
            const shuffledStrategies = [...taskStrategies].sort(() => Math.random() - 0.5);

            shuffledStrategies.forEach((strategy, index) => {
                const btn = document.createElement('button');
                btn.className = 'strategy-btn';
                btn.textContent = strategy;
                btn.onclick = () => makeChoice(index, strategy);
                strategyContainer.appendChild(btn);
            });

            startTimer();
        }

        function startTimer() {
            gameState.timer = 60;
            gameState.timerInterval = setInterval(() => {
                gameState.timer--;
                document.getElementById('gameTimer').textContent = gameState.timer;
                
                if (gameState.timer <= 0) {
                    clearInterval(gameState.timerInterval);
                    timeUp();
                }
            }, 1000);
        }

        function makeChoice(choiceIndex, strategy) {
            clearInterval(gameState.timerInterval);
            
            const buttons = document.querySelectorAll('.strategy-btn');
            buttons.forEach(btn => btn.disabled = true);
            
            setTimeout(() => {
                showResults(strategy, choiceIndex);
            }, 500);
        }

        function timeUp() {
            const strategies = document.querySelectorAll('.strategy-btn');
            strategies.forEach(btn => btn.disabled = true);
            
            setTimeout(() => {
                showResults("time ran out, but you did your best", -1);
            }, 500);
        }

        function showResults(chosenStrategy, choiceIndex) {
            document.getElementById('challengeScreen').classList.add('hidden');
            document.getElementById('resultsScreen').classList.remove('hidden');

            const baseScore = fruitScores[gameState.currentTask.difficulty];
            const randomMultiplier = 0.5 + Math.random() * 0.5;
            const earnedOvarmees = Math.floor(baseScore * randomMultiplier);

            gameState.totalOvarmees += earnedOvarmees;
            gameState.playsToday++;

            const randomMessage = surrenderMessages[Math.floor(Math.random() * surrenderMessages.length)];
            document.getElementById('surrenderBanner').textContent = randomMessage;

            const storyOutcome = generateStoryOutcome(chosenStrategy, choiceIndex);
            document.getElementById('storyText').innerHTML = storyOutcome;
            
            document.getElementById('ovarmeeResult').textContent = 
                `You earned ${earnedOvarmees} ovarmees! ðŸŒŸ`;

            updateDisplay();
        }

        function generateStoryOutcome(strategy, choiceIndex) {
            const leftHouse = Math.random() > 0.5;
            const result = leftHouse ? "ðŸŒŠ Flowing - You left the house!" : "ðŸŒ™ Ebbing - You stayed home.";
            
            let outcomeList = [];
            
            if (gameState.currentTask.category === 'making_food') {
                outcomeList = leftHouse ? foodOutcomes.leftHouse : foodOutcomes.stayedHome;
            } else if (gameState.currentTask.category === 'life_admin') {
                outcomeList = leftHouse ? lifeAdminOutcomes.leftHouse : lifeAdminOutcomes.stayedHome;
            } else if (gameState.currentTask.category === 'getting_ready') {
                outcomeList = leftHouse ? gettingReadyOutcomes.leftHouse : gettingReadyOutcomes.stayedHome;
            } else if (gameState.currentTask.category === 'housework') {
                outcomeList = leftHouse ? houseworkOutcomes.leftHouse : houseworkOutcomes.stayedHome;
            } else {
                outcomeList = leftHouse ? 
                    ["You managed to complete your task and felt energized enough to leave the house."] :
                    ["You listened to your body's wisdom and realized that staying home was exactly what you needed today."];
            }
            
            const randomOutcome = outcomeList[Math.floor(Math.random() * outcomeList.length)];
            return `<p><strong>${result}</strong></p><p>${randomOutcome}</p>`;
        }

        function resetGame() {
            document.getElementById('resultsScreen').classList.add('hidden');
            document.getElementById('startScreen').classList.remove('hidden');
            
            document.getElementById('mainGameStatus').classList.remove('hidden');
            document.getElementById('ovarmeesCorner').classList.add('hidden');
            document.getElementById('wheelResults').classList.add('hidden');
            document.getElementById('spinBtn').disabled = false;
            
            if (gameState.timerInterval) {
                clearInterval(gameState.timerInterval);
            }
        }

        // Initialize game
        checkDailyReset();
        updateDisplay();
        createWheelValues();
        setupWheelDragging();
    </script>
</body>
</html>
